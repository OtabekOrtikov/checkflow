// EmployeeTable.tsx
"use client";

import Pagination from "@/components/layout/Pagination";
import { Employee } from "@/types/employee.t";

interface EmployeeTableProps {
  data: Employee[];
  total: number;
  page: number;
  pageSize: number;
  onPageChange: (p: number) => void;
  deptMap?: Record<number, string>;
  posMap?: Record<number, string>;
}

export default function EmployeeTable({
  data,
  total,
  page,
  pageSize,
  onPageChange,
  deptMap,
  posMap,
}: EmployeeTableProps) {
  return (
    <>
      <div className="tables !overflow-x-auto !p-0">
        <table className="min-w-full !bg-white !p-[20px] !border-0">
          <thead className="">
            <tr>
              {[
                "Сотрудник",
                "Должность",
                "Пол",
                "Отдел",
                "Заработная плата",
                "Иденнтификация",
              ].map((h) => (
                <th key={h} className="!pb-[15px] last:text-center [&:nth-child(3)]:pr-[20px]">
                  {h}
                </th>
              ))}
            </tr>
          </thead>
          <tbody className="">
            {data.map((e) => (
              <tr key={e.id}>
                <td className="!py-[15px]">{e.full_name}</td>
                <td className="">
                  {typeof e.position === "number"
                    ? posMap?.[e.position] ?? `#${e.position}`
                    : "—"}
                </td>
                <td
                  className={`!opacity-100 ${
                    e.gender === "female"
                      ? "!text-[#FF00B7] !font-bold"
                      : "!text-[#1967F2] !font-bold"
                  }`}
                >
                  {e.gender === "female" ? "Жн" : "Мж"}
                </td>
                <td className="!opacity-100">
                  {typeof e.department === "number"
                    ? deptMap?.[e.department] ?? `#${e.department}`
                    : "—"}
                </td>
                <td className="!opacity-100">
                  <p className="text-[16px] font-[400] text-[var(--foreground-50)]">
                    Часовая 01.06.2025
                  </p>
                  <p className="text-[16px] font-[700] text-[var(--foreground)]">
                    {e.salary} сум
                  </p>
                </td>
                <td className="!opacity-100 flex justify-center items-center">
                  <p className={`${e.id % 2 === 0 ? "text-[var(--green)]" : "text-[var(--foreground)] opacity-30"}`}>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="32"
                      height="32"
                      viewBox="0 0 32 32"
                      fill="none"
                    >
                      <g>
                        <path
                          opacity="0.5"
                          d="M27.3805 27.3808C29.3332 25.4282 29.3332 22.2854 29.3332 16.0001C29.3332 9.71471 29.3332 6.57202 27.3805 4.61941C25.428 2.66678 22.2852 2.66678 15.9998 2.66678C9.71444 2.66678 6.57174 2.66678 4.61913 4.61941C2.6665 6.57202 2.6665 9.71471 2.6665 16.0001C2.6665 22.2854 2.6665 25.4282 4.61913 27.3808C6.57174 29.3334 9.71444 29.3334 15.9998 29.3334C22.2852 29.3334 25.428 29.3334 27.3805 27.3808Z"
                          fill="currentColor"
                        />
                        <path
                          d="M23.2728 9.20475C23.7122 9.53946 23.797 10.1669 23.4623 10.6062L14.3194 22.6063C14.1374 22.8452 13.8575 22.9896 13.5572 22.9996C13.2571 23.0096 12.9682 22.8841 12.7707 22.6579L8.58019 17.8579C8.21698 17.4417 8.25981 16.8101 8.67586 16.4469C9.0919 16.0836 9.72362 16.1265 10.0868 16.5425L13.4714 20.4193L21.8714 9.39414C22.2062 8.95483 22.8336 8.87003 23.2728 9.20475Z"
                          fill="currentColor"
                        />
                      </g>
                    </svg>
                  </p>
                  <p className={`${e.id % 3 === 1 ? "text-[var(--green)]" : "text-[var(--foreground)] opacity-30"}`}>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="32"
                      height="32"
                      viewBox="0 0 32 32"
                      fill="none"
                    >
                      <g>
                        <path
                          opacity="0.5"
                          d="M13.3331 26.6668H18.6665C23.6947 26.6668 26.2089 26.6668 27.771 25.1047C29.3331 23.5427 29.3331 21.0284 29.3331 16.0001C29.3331 15.4109 29.3309 13.8561 29.3283 13.3335H2.66674C2.66422 13.8561 2.66642 15.4109 2.66642 16.0001C2.66642 21.0284 2.66642 23.5427 4.22851 25.1047C5.79062 26.6668 8.30476 26.6668 13.3331 26.6668Z"
                          fill="currentColor"
                        />
                        <path
                          d="M7 18.0001C7 17.4479 7.44772 17.0001 8 17.0001H10.6667C11.2189 17.0001 11.6667 17.4479 11.6667 18.0001C11.6667 18.5524 11.2189 19.0001 10.6667 19.0001H8C7.44772 19.0001 7 18.5524 7 18.0001Z"
                          fill="currentColor"
                        />
                        <path
                          d="M7 22.0001C7 21.4479 7.44772 21.0001 8 21.0001H13.3333C13.8856 21.0001 14.3333 21.4479 14.3333 22.0001C14.3333 22.5524 13.8856 23.0001 13.3333 23.0001H8C7.44772 23.0001 7 22.5524 7 22.0001Z"
                          fill="currentColor"
                        />
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M22.9295 16.3912C22.4991 16.3333 21.97 16.3335 21.3928 16.3335H21.2736C20.6964 16.3335 20.1673 16.3333 19.7369 16.3912C19.2629 16.4549 18.762 16.6048 18.35 17.0169C17.9378 17.4289 17.788 17.9299 17.7242 18.4039C17.6664 18.8343 17.6664 19.3633 17.6665 19.9405V20.0001V20.0599C17.6664 20.6369 17.6664 21.166 17.7242 21.5964C17.788 22.0704 17.9378 22.5713 18.35 22.9833C18.762 23.3955 19.2629 23.5453 19.7369 23.6091C20.1673 23.6669 20.6964 23.6669 21.2736 23.6668H21.3332H21.3928C21.97 23.6669 22.4991 23.6669 22.9295 23.6091C23.4035 23.5453 23.9044 23.3955 24.3164 22.9833C24.7285 22.5713 24.8784 22.0704 24.9421 21.5964C25 21.166 25 20.6369 24.9998 20.0597V19.9405C25 19.3633 25 18.8343 24.9421 18.4039C24.8784 17.9299 24.7285 17.4289 24.3164 17.0169C23.9044 16.6048 23.4035 16.4549 22.9295 16.3912ZM19.7674 18.4293L19.7642 18.4311L19.7624 18.4344C19.761 18.4369 19.7588 18.4413 19.7561 18.4481C19.7441 18.4772 19.7237 18.5416 19.7064 18.6704C19.6686 18.9513 19.6665 19.3433 19.6665 20.0001C19.6665 20.6569 19.6686 21.0489 19.7064 21.3299C19.7237 21.4587 19.7441 21.5232 19.7561 21.5521C19.7577 21.5563 19.7592 21.5595 19.7604 21.562L19.7624 21.5659L19.7641 21.5692L19.7674 21.5709C19.77 21.5724 19.7744 21.5745 19.7812 21.5772C19.8101 21.5892 19.8746 21.6096 20.0034 21.6269C20.2844 21.6647 20.6764 21.6668 21.3332 21.6668C21.99 21.6668 22.382 21.6647 22.6629 21.6269C22.7917 21.6096 22.8562 21.5892 22.8852 21.5772C22.892 21.5745 22.8964 21.5724 22.8989 21.5709L22.9022 21.5692L22.904 21.5659C22.9053 21.5633 22.9076 21.5589 22.9102 21.5521C22.9222 21.5232 22.9426 21.4587 22.96 21.3299C22.9977 21.0489 22.9998 20.6569 22.9998 20.0001C22.9998 19.3433 22.9977 18.9513 22.96 18.6704C22.9426 18.5416 22.9222 18.4772 22.9102 18.4481C22.9076 18.4413 22.9053 18.4369 22.904 18.4344L22.9022 18.4311L22.8989 18.4293C22.8964 18.428 22.892 18.4257 22.8852 18.4231C22.8562 18.4111 22.7917 18.3907 22.6629 18.3733C22.382 18.3356 21.99 18.3335 21.3332 18.3335C20.6764 18.3335 20.2844 18.3356 20.0034 18.3733C19.8746 18.3907 19.8101 18.4111 19.7812 18.4231C19.7744 18.4257 19.77 18.428 19.7674 18.4293Z"
                          fill="currentColor"
                        />
                        <path
                          d="M13.3263 5.33347H18.6734C23.7146 5.33347 26.2353 5.33347 27.8014 6.82117C28.929 7.89235 29.2448 9.43356 29.3332 12.0001V13.3335H2.6665V12.0001C2.7549 9.43356 3.07064 7.89235 4.19825 6.82117C5.76437 5.33347 8.28501 5.33347 13.3263 5.33347Z"
                          fill="currentColor"
                        />
                      </g>
                    </svg>
                  </p>
                  <p className={`${e.id % 2 === 1 ? "text-[var(--green)]" : "text-[var(--foreground)] opacity-30"}`}>
                    <svg
                      width="32"
                      height="32"
                      viewBox="0 0 32 32"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fillRule="evenodd"
                        clipRule="evenodd"
                        d="M28.403 17.5505C28.9167 17.5505 29.3332 17.9671 29.3332 18.4808V18.5507C29.3332 20.8301 29.3332 22.6356 29.1432 24.0485C28.9478 25.5027 28.5359 26.6797 27.6076 27.6079C26.6795 28.5361 25.5024 28.948 24.0483 29.1435C22.6354 29.3335 20.8299 29.3335 18.5504 29.3335H18.4806C17.9668 29.3335 17.5503 28.9169 17.5503 28.4032C17.5503 27.8895 17.9668 27.4731 18.4806 27.4731C20.8456 27.4731 22.5258 27.4711 23.8004 27.2996C25.0483 27.1319 25.7672 26.8172 26.2922 26.2924C26.817 25.7675 27.1316 25.0485 27.2994 23.8007C27.4708 22.526 27.4728 20.8459 27.4728 18.4808C27.4728 17.9671 27.8892 17.5505 28.403 17.5505Z"
                        fill="currentColor"
                      />
                      <path
                        fillRule="evenodd"
                        clipRule="evenodd"
                        d="M3.59674 17.5505C4.11049 17.5505 4.52697 17.9671 4.52697 18.4808C4.52697 20.8459 4.52894 22.526 4.70032 23.8007C4.86809 25.0485 5.18272 25.7675 5.70762 26.2924C6.23253 26.8172 6.95148 27.1319 8.19934 27.2996C9.47396 27.4711 11.1542 27.4731 13.5192 27.4731C14.0329 27.4731 14.4494 27.8895 14.4494 28.4032C14.4494 28.9169 14.0329 29.3335 13.5192 29.3335H13.4493C11.1699 29.3335 9.36442 29.3335 7.95144 29.1435C6.49726 28.948 5.32028 28.5361 4.39208 27.6079C3.46388 26.6797 3.05194 25.5027 2.85644 24.0485C2.66646 22.6356 2.66649 20.8301 2.6665 18.5507C2.6665 18.5275 2.6665 18.5041 2.6665 18.4808C2.6665 17.9671 3.08298 17.5505 3.59674 17.5505Z"
                        fill="currentColor"
                      />
                      <path
                        fillRule="evenodd"
                        clipRule="evenodd"
                        d="M13.4493 2.66678H13.5192C14.033 2.66678 14.4494 3.08326 14.4494 3.59702C14.4494 4.11077 14.033 4.52725 13.5192 4.52725C11.1542 4.52725 9.47396 4.52922 8.19934 4.70059C6.95148 4.86837 6.23253 5.18299 5.70762 5.7079C5.18272 6.23281 4.86809 6.95175 4.70032 8.19962C4.52894 9.47423 4.52697 11.1544 4.52697 13.5194C4.52697 14.0332 4.11049 14.4497 3.59674 14.4497C3.08298 14.4497 2.6665 14.0332 2.6665 13.5194V13.4496C2.66649 11.1701 2.66646 9.36469 2.85644 7.95171C3.05194 6.49754 3.46388 5.32055 4.39208 4.39235C5.32028 3.46415 6.49728 3.05222 7.95144 2.85671C9.36441 2.66674 11.1699 2.66677 13.4493 2.66678Z"
                        fill="currentColor"
                      />
                      <path
                        fillRule="evenodd"
                        clipRule="evenodd"
                        d="M23.8004 4.70059C22.5258 4.52922 20.8456 4.52725 18.4806 4.52725C17.9668 4.52725 17.5503 4.11077 17.5503 3.59702C17.5503 3.08326 17.9668 2.66678 18.4806 2.66678C18.5039 2.66678 18.5272 2.66678 18.5504 2.66678C20.8299 2.66677 22.6354 2.66674 24.0483 2.85671C25.5024 3.05222 26.6795 3.46415 27.6076 4.39235C28.5359 5.32055 28.9478 6.49754 29.1432 7.95171C29.3332 9.3647 29.3332 11.1701 29.3332 13.4496V13.5194C29.3332 14.0333 28.9167 14.4497 28.403 14.4497C27.8892 14.4497 27.4728 14.0333 27.4728 13.5194C27.4728 11.1544 27.4708 9.47423 27.2994 8.19962C27.1316 6.95175 26.817 6.23281 26.2922 5.7079C25.7672 5.18299 25.0483 4.86837 23.8004 4.70059Z"
                        fill="currentColor"
                      />
                      <path
                        d="M13.8307 13.908C13.8307 14.807 13.3448 15.5358 12.7454 15.5358C12.146 15.5358 11.6602 14.807 11.6602 13.908C11.6602 13.0089 12.146 12.2801 12.7454 12.2801C13.3448 12.2801 13.8307 13.0089 13.8307 13.908Z"
                        fill="currentColor"
                      />
                      <path
                        d="M20.3424 13.908C20.3424 14.807 19.8565 15.5358 19.2572 15.5358C18.6579 15.5358 18.1719 14.807 18.1719 13.908C18.1719 13.0089 18.6579 12.2801 19.2572 12.2801C19.8565 12.2801 20.3424 13.0089 20.3424 13.908Z"
                        fill="currentColor"
                      />
                      <path
                        d="M13.2303 19.2231C12.8692 18.9553 12.3594 19.0312 12.0917 19.3923C11.824 19.7535 11.8998 20.2632 12.261 20.5309C13.3163 21.3131 14.6069 21.7763 16.0014 21.7763C17.396 21.7763 18.6866 21.3131 19.742 20.5309C20.1032 20.2632 20.1789 19.7535 19.9112 19.3923C19.6436 19.0312 19.1337 18.9553 18.7726 19.2231C17.9821 19.8089 17.028 20.1483 16.0014 20.1483C14.9749 20.1483 14.0208 19.8089 13.2303 19.2231Z"
                        fill="currentColor"
                      />
                      <g opacity="0.5">
                        <path
                          d="M13.8301 13.9077C13.8301 14.8068 13.3443 15.5356 12.7449 15.5356C12.1456 15.5356 11.6597 14.8068 11.6597 13.9077C11.6597 13.0087 12.1456 12.2798 12.7449 12.2798C13.3443 12.2798 13.8301 13.0087 13.8301 13.9077Z"
                          fill="currentColor"
                        />
                        <path
                          d="M20.3419 13.9077C20.3419 14.8068 19.8559 15.5356 19.2566 15.5356C18.6573 15.5356 18.1714 14.8068 18.1714 13.9077C18.1714 13.0087 18.6573 12.2798 19.2566 12.2798C19.8559 12.2798 20.3419 13.0087 20.3419 13.9077Z"
                          fill="currentColor"
                        />
                        <path
                          d="M13.2294 19.2228C12.8682 18.9551 12.3584 19.0309 12.0908 19.392C11.8231 19.7532 11.8988 20.2629 12.26 20.5307C13.3153 21.3128 14.6059 21.776 16.0005 21.776C17.3951 21.776 18.6856 21.3128 19.7409 20.5307C20.1021 20.2629 20.1779 19.7532 19.9101 19.392C19.6425 19.0309 19.1327 18.9551 18.7716 19.2228C17.9812 19.8087 17.0271 20.148 16.0005 20.148C14.9739 20.148 14.0197 19.8087 13.2294 19.2228Z"
                          fill="currentColor"
                        />
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M13.52 6.07825H18.4812C21.9893 6.07825 23.7435 6.07825 24.8332 7.16809C25.9231 8.25793 25.9231 10.012 25.9231 13.5201V18.4813C25.9231 21.9895 25.9231 23.7436 24.8332 24.8333C23.7435 25.9232 21.9893 25.9232 18.4812 25.9232H13.52C10.0119 25.9232 8.25781 25.9232 7.16796 24.8333C6.07812 23.7436 6.07813 21.9895 6.07813 18.4813V13.5201C6.07813 10.012 6.07812 8.25793 7.16796 7.16809C8.25781 6.07825 10.0119 6.07825 13.52 6.07825ZM12.0909 19.392C12.3586 19.0309 12.8684 18.9551 13.2295 19.2228C14.0199 19.8087 14.974 20.148 16.0007 20.148C17.0272 20.148 17.9813 19.8087 18.7717 19.2228C19.1328 18.9551 19.6427 19.0309 19.9103 19.392C20.178 19.7532 20.1023 20.2629 19.7411 20.5307C18.6857 21.3128 17.3952 21.776 16.0007 21.776C14.606 21.776 13.3154 21.3128 12.2601 20.5307C11.899 20.2629 11.8232 19.7532 12.0909 19.392ZM19.2564 15.5356C19.8557 15.5356 20.3417 14.8068 20.3417 13.9077C20.3417 13.0086 19.8557 12.2798 19.2564 12.2798C18.6571 12.2798 18.1712 13.0086 18.1712 13.9077C18.1712 14.8068 18.6571 15.5356 19.2564 15.5356ZM12.7448 15.5356C13.3441 15.5356 13.83 14.8068 13.83 13.9077C13.83 13.0086 13.3441 12.2798 12.7448 12.2798C12.1454 12.2798 11.6595 13.0086 11.6595 13.9077C11.6595 14.8068 12.1454 15.5356 12.7448 15.5356Z"
                          fill="currentColor"
                        />
                      </g>
                    </svg>
                  </p>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
      <div>
        <Pagination
          total={total}
          page={page}
          pageSize={pageSize}
          onPageChange={onPageChange}
        />
      </div>
    </>
  );
}
